/* ===========================================================
   PK — Ultra Theme v2.1 (Aurora Neon / Glass / Depth) — HOTFIX
   Ustalenia: stary układ tekstu w index, bez animacji H1, poprawki DM,
   jaśniejszy pasek aktualizacji, białe GitHub w dark, lepszy toggle,
   textarea bez resize, app-logo jak dawniej.
   =========================================================== */

@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');
:root{ color-scheme: light dark; }

/* ============== 1) TOKI I ZMIENNE ============== */
:root{
  --bg: 0 0% 100%;
  --fg: 223 15% 13%;
  --muted: 223 10% 40%;

  --accent-h: 220;
  --accent-s: 90%;
  --accent-l: 56%;
  --accent: var(--accent-h) var(--accent-s) var(--accent-l);
  --accent-600: var(--accent-h) 92% 52%;
  --accent-700: var(--accent-h) 92% 46%;
  --accent-300: var(--accent-h) 90% 72%;

  --surface: 223 30% 98%;
  --glass: 223 28% 100% / 0.55;
  --border: 223 16% 80% / .45;

  --shadow-1: 223 40% 10% / .08;
  --shadow-2: 223 40% 10% / .16;
  --ring: var(--accent-h) 90% 52%;

  --grid: 223 12% 20% / .07;
  --glow-a: 220 92% 56% / .18;
  --glow-b: 290 82% 60% / .16;
  --glow-c: 16 92% 56% / .12;

  /* Legacy aliasy (zgodność) */
  --bg-color: hsl(var(--bg));
  --text-color: hsl(var(--fg));
  --nav-bg: hsl(var(--surface));
  --nav-text: hsl(var(--fg));
  --link-hover: hsl(var(--accent-300));
  --accent-color: hsl(var(--accent));
}

body.dark{
  --bg: 224 20% 8%;
  --fg: 220 14% 92%;
  --muted: 220 10% 70%;

  --surface: 224 24% 12%;
  --glass: 224 24% 10% / 0.55;
  --border: 224 10% 98% / .08;

  --shadow-1: 224 45% 2% / .45;
  --shadow-2: 224 45% 2% / .62;
  --grid: 224 28% 88% / .06;

  --glow-a: 216 92% 64% / .22;
  --glow-b: 286 82% 68% / .2;
  --glow-c: 26 92% 64% / .16;

  --nav-bg: hsl(var(--surface));
}

/* ============== 2) RESET + TYPO ============== */
*{ box-sizing: border-box; margin:0; padding:0; }
html, body{ height:auto; }
body{
  font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,sans-serif;
  font-size:16px; line-height:1.7;
  background:hsl(var(--bg)); color:hsl(var(--fg));
  padding-top:72px;
  transition: background .35s ease, color .35s ease;
  text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;
}
a{ color:inherit; text-decoration:none; }
a:hover{ color:hsl(var(--accent)); }
::selection{ background:hsl(var(--accent-300)); color:#fff; }
:focus-visible{ outline:2px solid hsl(var(--ring)); outline-offset:2px; border-radius:10px; }

/* Scrollbar */
*::-webkit-scrollbar{ width:10px; height:10px; }
*::-webkit-scrollbar-thumb{ background:hsl(var(--accent)/.28); border-radius:999px; }
*::-webkit-scrollbar-track{ background:transparent; }

/* ============== 3) GLOBALNE TŁO (aurora+siatka) ============== */
body::before, body::after{ content:""; position:fixed; inset:0; z-index:-2; pointer-events:none; }
body::before{
  background:
    linear-gradient(transparent 39px, hsl(var(--grid)) 40px),
    linear-gradient(90deg, transparent 39px, hsl(var(--grid)) 40px);
  background-size:40px 40px; mix-blend-mode:luminosity; opacity:.14;
}
body::after{
  background:
    radial-gradient(60vmax 60vmax at -10% 120%, hsl(var(--glow-a)) 0%, transparent 70%),
    radial-gradient(60vmax 60vmax at 110% -20%, hsl(var(--glow-b)) 0%, transparent 70%),
    radial-gradient(40vmax 40vmax at 50% -10%, hsl(var(--glow-c)) 0%, transparent 70%);
  filter:blur(70px); opacity:.8; animation:auroraPan 36s linear infinite;
}
@keyframes auroraPan{ 0%{transform:translate3d(0,0,0) rotate(0)} 50%{transform:translate3d(0,-3%,0) rotate(180deg)} 100%{transform:translate3d(0,0,0) rotate(360deg)} }
@media (prefers-reduced-motion:reduce){ body::after{ animation:none; } }
body.no-global-bg::before, body.no-global-bg::after{ display:none!important; }

/* ============== 4) NAVBAR (glass+glow) ============== */
.navbar{
  position:fixed; inset:0 0 auto 0; min-height:72px; z-index:10000;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding:10px 20px;
  background:hsl(var(--glass));
  -webkit-backdrop-filter:blur(12px) saturate(1.1); backdrop-filter:blur(12px) saturate(1.1);
  border-bottom:1px solid hsl(var(--border));
  box-shadow:0 10px 24px hsl(var(--shadow-1)), 0 1px 0 hsl(var(--border));
  transition:background .3s, box-shadow .3s, border-color .3s;
}
.navbar::after{
  content:""; position:absolute; inset:auto 0 -2px 0; height:2px;
  background:linear-gradient(90deg, transparent, hsl(var(--accent)), transparent);
  opacity:.5; filter:blur(1px);
}
body.dark .navbar{ box-shadow:0 12px 28px hsl(var(--shadow-2)), inset 0 -1px 0 hsl(var(--border)); }

.navbar-left{ font-size:1.25rem; font-weight:700; letter-spacing:.2px; }
.site-title{ font-weight:700; }
.last-update{ font-size:.75rem; opacity:.72; }

.menu-toggle{ display:none; font-size:1.6rem; background:none; border:0; color:hsl(var(--fg)); cursor:pointer; }
.menu-items{ display:flex; align-items:center; gap:20px; }
.navbar a,.navbar button,.dropbtn{ font-size:1rem; padding:.45rem .8rem; background:none; border:0; color:hsl(var(--fg)); cursor:pointer; transition:color .2s, opacity .2s; }

.menu-items a{ position:relative; }
.menu-items a::after{
  content:""; position:absolute; left:6px; right:6px; bottom:-6px; height:2px;
  background:linear-gradient(90deg, hsl(var(--accent-300)), hsl(var(--accent)));
  transform:scaleX(0); transform-origin:left; transition:transform .25s; border-radius:2px;
}
.menu-items a:hover::after, .menu-items a.active::after{ transform:scaleX(1); }
.menu-items a.active{ color:hsl(var(--accent)); font-weight:700; }

/* GitHub w menu — białe w dark */
.navbar .github-link img,
.navbar .github-icon,
.navbar .github-link svg{
  filter:none;
  width:20px; height:20px;
  fill:currentColor;
}
body.dark .navbar .github-link img,
body.dark .navbar .github-link svg{ filter: invert(1) brightness(1.2) contrast(1.1); }

/* Dropdown */
.dropdown{ position:relative; }
.dropbtn::after{ content:' ▼'; font-size:.78em; opacity:.8; }
.dropdown-content{
  position:absolute; top:100%; left:0; min-width:200px; z-index:10; display:none; flex-direction:column;
  padding:8px; gap:4px; background:hsl(var(--glass));
  -webkit-backdrop-filter:blur(12px) saturate(1.1); backdrop-filter:blur(12px) saturate(1.1);
  border:1px solid hsl(var(--border)); border-radius:12px; box-shadow:0 16px 40px hsl(var(--shadow-2));
}
.dropdown-content a{ padding:10px 12px; border-radius:10px; color:hsl(var(--fg)); }
.dropdown-content a:hover{ background:hsl(var(--accent)/.08); }
.dropdown:hover .dropdown-content, .dropdown.open .dropdown-content{ display:flex; }

/* Mobile menu */
@media (max-width: 768px){
  .menu-toggle{ display:block; margin-left:auto; }
  .menu-items{
    display:none; position:absolute; top:100%; left:0; width:100%;
    background:hsl(var(--glass)); -webkit-backdrop-filter:blur(12px) saturate(1.1); backdrop-filter:blur(12px) saturate(1.1);
    border-bottom:1px solid hsl(var(--border)); padding:10px 20px; flex-direction:column; align-items:flex-start; gap:8px;
  }
  .menu-items.show{ display:flex; }
  .dropdown-content{ position:static; background:transparent; border:0; box-shadow:none; padding-left:10px; }
  .dropdown .dropbtn{ width:100%; text-align:left; }
}

/* ============== 5) LAYOUT / MAIN ============== */
main{ width:min(1100px,92vw); margin:80px auto 0; padding:32px 0 64px; }

/* H1 — BEZ ANIMACJI, nagłówek jak w lubianej wersji */
.intro h1{
  font-size:clamp(2rem,5vw,3rem);
  font-weight:800; text-align:center; line-height:1.1;
  margin:0 auto 1.2rem; letter-spacing:.3px; animation:none !important;
  background: radial-gradient(circle at 20% 0%, hsl(var(--accent)) 0%, hsl(var(--accent-300)) 30%, hsl(var(--fg)) 70%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  filter: drop-shadow(0 6px 22px hsl(var(--accent)/.18));
}

/* >>> Stary układ tekstu w index (lewe wyrównanie, szerokość kolumny) */
.intro p{ max-width:72ch; margin:.6rem auto 0; text-align:left; color:hsl(var(--muted)); }
.intro ul{ max-width:72ch; margin:1rem auto 2rem; padding-left:1.2rem; }

/* ==========================================
   SECTION SEPARATOR — BLUE↔PURPLE NEON (PATCH)
   ========================================== */

/* Fallbacki na wypadek braku zmiennych neo */
:root{
  --neo-blue: 220 92% 60%;
  --neo-blue-300: 220 92% 70%;
  --neo-violet: 285 90% 62%;
  --neo-violet-300: 285 90% 72%;
}

/* Podstawowy separator: niebiesko-fioletowy gradient + subtelny glow */
.section-separator{
  height: 2px !important;
  width: 0;                           /* zgodnie z Twoją bazą */
  margin: 2.5rem auto;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--neo-blue)) 25%,
    hsl(var(--neo-violet)) 75%,
    transparent
  ) !important;
  border-radius: 999px;
  opacity: .95 !important;
  box-shadow:
    0 0 10px hsl(var(--neo-blue)/.28),
    0 0 16px hsl(var(--neo-violet)/.28) !important;
}

/* Aktywowany wariant z animacją i szerokością jak u Ciebie */
.section-separator.animate{
  width: min(760px, 68%) !important;
  position: relative;
}

/* Sheen przejeżdżający po separatorze (blue→purple) */
.section-separator.animate::after{
  content: "";
  position: absolute;
  inset: 0;
  width: 22%;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--neo-blue-300)) 20%,
    hsl(var(--neo-violet-300)) 80%,
    transparent
  );
  filter: blur(2px);
  transform: translateX(-120%);
  animation: sweep-neo 2.4s ease-in-out infinite;
  border-radius: inherit;
}

/* Płynny przejazd “sheen” — lekki i czytelny */
@keyframes sweep-neo{
  0%   { transform: translateX(-120%); opacity: 0; }
  18%  { opacity: .65; }
  100% { transform: translateX(420%);  opacity: 0; }
}

/* Preferencje dostępności: wyłącz animację gdy użytkownik tak woli */
@media (prefers-reduced-motion: reduce){
  .section-separator.animate::after{
    animation: none !important;
    opacity: .0 !important;
  }
}


/* ============== 6) ANIMACJE ON-SCROLL ============== */
.hidden-on-load{ opacity:0; transform: translateY(22px) scale(.98); transition: opacity .8s, transform .8s; }
.show-on-scroll{ opacity:1; transform: translateY(0) scale(1); }
.fade-zoom{ opacity:0; transform: scale(.96) translateY(18px); transition: opacity .8s, transform .8s; }
.fade-zoom.show-on-scroll{ opacity:1; transform: scale(1) translateY(0); }

/* ============== 7) KAFLE ============== */
.info-tiles{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
  gap:clamp(16px,2vw,24px);
  margin:24px auto 0;
}

/* kontener bez ramki zewnętrznej */
.tile{
  display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
  min-height:240px; padding:24px; background:hsl(var(--glass));
  -webkit-backdrop-filter:blur(10px) saturate(1.05); backdrop-filter:blur(10px) saturate(1.05);
  border:none; border-radius:22px;
  box-shadow:none;
  transform:translateY(20px); opacity:0;
  transition: transform .45s, opacity .45s;
}
.tile.show-on-scroll{ transform:translateY(0); opacity:1; }

.tile-icon{ display:grid; place-items:center; margin-bottom:12px; }
.tile-icon svg{ width:56px; height:56px; stroke:hsl(var(--accent)); stroke-width:1.5; fill:none; }
.tile h3{ font-size:1.2rem; font-weight:800; letter-spacing:.2px; margin:8px 0 6px; color:hsl(var(--accent)); }
.tile p{ color:hsl(var(--muted)); max-width:60ch; }

/* jedna ramka + animacja gradientu na .tile-link */
.tile-link{
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px;
  width:100%; height:100%; padding:26px 20px;
  color:inherit; position:relative; isolation:isolate;
  background:hsl(var(--glass));
  -webkit-backdrop-filter:blur(10px) saturate(1.05); backdrop-filter:blur(10px) saturate(1.05);

  border:2px solid transparent;           
  border-radius:22px;
  box-shadow:0 12px 28px hsl(var(--shadow-1));
  transition: transform .3s ease, box-shadow .3s ease;
  z-index:0;
}

/* animowany gradient w ramce */
.tile-link::after{
  content:""; position:absolute; inset:0; padding:2px;
  border-radius:inherit; pointer-events:none; z-index:1;

  background: linear-gradient(270deg,
    hsl(220 92% 60%),
    hsl(285 90% 62%),
    hsl(220 92% 60%)
  );
  background-size: 400% 400%;

  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; 
  mask-composite: exclude;

  animation: gradientFlow 8s linear infinite;
}

/* hover – unoszenie + neonowy cień */
.tile-link:hover{
  transform:translateY(-4px);
  box-shadow:
    0 20px 44px hsl(var(--shadow-2)),
    0 0 26px hsl(220 92% 60% / .35),
    0 0 32px hsl(285 90% 62% / .35);
}

/* przesuwanie gradientu wzdłuż obramowania */
@keyframes gradientFlow{
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@media (prefers-reduced-motion: reduce){
  .tile-link::after{ animation:none; }
}


/* ============== 8) SEKCJE TEKSTOWE ============== */
.experience-section{ margin:60px auto; padding:0 6px; }
.experience-section h2{
  font-size:clamp(1.8rem,4.5vw,2.4rem); font-weight:800; text-align:center; margin-bottom:.9rem;
  color:hsl(var(--accent)); text-shadow:0 6px 18px hsl(var(--accent)/.18);
}
.experience-section p{ font-size:1.05rem; line-height:1.8; text-align:justify; color:hsl(var(--fg)); }
.company-name{ color:hsl(var(--accent)); font-weight:700; }

/* ============== 9) PROJEKTY (karty) ============== */
.project-card-link{
  text-decoration:none; color:inherit; display:block; margin-bottom:2rem;
}

/* KARTA: szklane tło, JEDNA animowana ramka, zaokrąglenie */
.project-card{
  display:flex; gap:20px; padding:20px;
  position: relative; isolation: isolate;
  border-radius:20px;                       /* bardziej rounded */
  background:hsl(var(--glass));
  -webkit-backdrop-filter:blur(10px) saturate(1.05);
  backdrop-filter:blur(10px) saturate(1.05);

  border:none;                              /* bez zewnętrznej ramki */
  box-shadow:0 12px 24px hsl(var(--shadow-1));
  transition: transform .3s, box-shadow .3s;
  will-change: transform, box-shadow;
  perspective:1000px;
  z-index: 0;
}

/* Jedyna ramka – animowany gradient przesuwa się w obrysie */
.project-card::after{
  content:"";
  position:absolute; inset:0; padding:2px;  /* grubość ramki */
  border-radius:inherit; pointer-events:none; z-index:1;

  /* gradient fiolet↔niebieski, przesuwany po obwodzie */
  background: linear-gradient(270deg,
    hsl(220 92% 60%),
    hsl(285 90% 62%),
    hsl(220 92% 60%)
  );
  background-size: 400% 400%;
  animation: projectBorderFlow 8s linear infinite;

  /* pokazujemy tylko obrys ramki (pojedyncza, bez środka) */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

/* Hover: unoszenie + neonowy cień (blue↔purple) */
.project-card:hover{
  transform: translateY(-10px);
  box-shadow:
    0 24px 54px hsl(var(--shadow-2)),
    0 0 26px hsl(220 92% 60% / .35),
    0 0 32px hsl(285 90% 62% / .35);
}

.project-card-logo img{
  width:90px; height:90px; object-fit:contain;
  border-radius:12px; background:#fff; padding:6px;
  box-shadow:0 4px 18px hsl(var(--shadow-1));
}
.project-card-content h3{
  font-size:1.35rem; font-weight:800; color:hsl(var(--accent));
  margin-bottom:6px; letter-spacing:.2px;
}
.project-card-content p{ margin:6px 0; color:hsl(var(--muted)); }
.project-tags{ font-style:italic; font-size:.9rem; color:hsl(var(--muted)); }

/* Animacja przesuwania gradientu w ramce */
@keyframes projectBorderFlow{
  0%   { background-position:   0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position:   0% 50%; }
}

@media (max-width:768px){
  .project-card{ gap:12px; padding:12px; }
  .project-card-logo img{ width:60px; height:60px; }
  .project-card-content h3{ font-size:1.02rem; margin-bottom:2px; }
  .project-card-content p{ font-size:.92rem; margin:0; line-height:1.45; }
  .project-card-content ul{ display:none; }
  .project-tags{ font-size:.78rem; margin-top:4px; }
}

/* Preferencje dostępności: bez animacji gdy użytkownik woli */
@media (prefers-reduced-motion: reduce){
  .project-card::after{ animation:none; }
}


/* ============== 10) PRZYCISKI (neo blue↔violet) ============== */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .6rem;
  padding: .65rem 1.1rem;
  font-weight: 800;
  border-radius: 14px;
  cursor: pointer;
  border: 1px solid transparent;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
  user-select: none;
  font-size: .95rem;
}

/* Główny przycisk – gradient + neon */
.btn-primary{
  background: linear-gradient(135deg, hsl(220 92% 60%), hsl(285 90% 62%));
  color: #fff;
  box-shadow:
    0 8px 20px hsl(220 92% 60% / .35),
    0 8px 20px hsl(285 90% 62% / .35);
}
.btn-primary:hover{
  transform: translateY(-2px);
  background: linear-gradient(135deg, hsl(285 90% 68%), hsl(220 92% 68%));
  box-shadow:
    0 12px 28px hsl(220 92% 60% / .45),
    0 12px 28px hsl(285 90% 62% / .45);
}

/* Ghost – tylko obrys */
.btn-ghost{
  background: transparent;
  color: hsl(var(--fg));
  border: 1px solid hsl(var(--border));
}
.btn-ghost:hover{
  border-color: transparent;
  background: linear-gradient(135deg, hsl(220 92% 60% / .08), hsl(285 90% 62% / .08));
  box-shadow:
    0 6px 14px hsl(220 92% 60% / .25),
    0 6px 14px hsl(285 90% 62% / .25);
}

/* Klasy starego przycisku download (kompatybilność) */
.download-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: .65rem 1.1rem;
  border-radius: 14px;
  background: linear-gradient(135deg, hsl(220 92% 60%), hsl(285 90% 62%));
  color: #fff;
  font-weight: 800;
  border: 0;
  box-shadow:
    0 8px 20px hsl(220 92% 60% / .35),
    0 8px 20px hsl(285 90% 62% / .35);
}
.download-btn:hover{
  background: linear-gradient(135deg, hsl(285 90% 68%), hsl(220 92% 68%));
  transform: translateY(-2px);
  box-shadow:
    0 12px 28px hsl(220 92% 60% / .45),
    0 12px 28px hsl(285 90% 62% / .45);
}

/* ============== 11) CHANGES BAR — JAŚNIEJSZY W DARK ============== */
.changelog-bar{
  width:100%; background:hsl(var(--glass)); color:hsl(var(--fg));
  border-bottom:1px solid hsl(var(--border)); font-weight:700; font-size:.92rem;
  padding:6px 16px; text-align:center; overflow:hidden;
  -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px);
}
body.dark .changelog-bar{
  /* jaśniejszy pasek pod ciemną nawigacją */
  background: linear-gradient(90deg, hsla(0,0%,100%,.14), hsla(0,0%,100%,.10));
  color:#fff;
  border-bottom-color: hsla(0,0%,100%,.22);
}
.changelog-widget{ display:inline-flex; align-items:center; gap:10px; font-size:.86rem; font-weight:700; color:inherit; background:none; border:0; padding:0; }
.changelog-header{ display:flex; align-items:center; gap:6px; }
.changelog-header strong{ color:hsl(var(--accent)); }
.dot{ width:6px; height:6px; border-radius:50%; background:hsl(var(--accent)); }

/* ============== 12) FORMULARZ / KONTAKT ============== */
.contact-section{ max-width:760px; margin:0 auto; padding:44px 16px; text-align:center; }
.contact-title{ font-size:clamp(1.8rem,4.5vw,2.4rem); color:hsl(var(--accent)); margin-bottom:1rem; font-weight:800; text-shadow:0 6px 18px hsl(var(--accent)/.18); }
.contact-info p{ margin:5px 0; font-weight:600; }
.contact-info a{ color:hsl(var(--fg)); }
.contact-info a:hover{ color:hsl(var(--accent)); }
.contact-message{ margin:18px 0 28px; color:hsl(var(--muted)); }

.contact-form{ display:flex; flex-direction:column; gap:14px; align-items:stretch; }
.contact-form input, .contact-form textarea{
  padding:12px 14px; border:1px solid hsl(var(--border)); border-radius:12px; background:hsl(var(--surface)); color:hsl(var(--fg)); font-size:1rem; transition:border-color .2s, box-shadow .2s, background .2s;
}
.contact-form textarea{ resize:none; } /* <<< blokada zmiany rozmiaru */
.contact-form input:focus, .contact-form textarea:focus{ border-color:hsl(var(--accent)); box-shadow:0 0 0 3px hsl(var(--accent)/.2); }
.contact-form button{ padding:.75rem 1.1rem; border-radius:12px; background:linear-gradient(180deg, hsl(var(--accent)), hsl(var(--accent-600))); color:#fff; font-weight:800; border:0; }

/* ============== 13) MEDIA / MISC ============== */
.video-demo video{ width:100%; max-width:960px; height:auto; display:block; margin:0 auto; border-radius:12px; box-shadow:0 8px 22px hsl(var(--shadow-1)); }
.pdf-viewer{ width:100%; height:auto; }
.backend-description .screenshot{ display:block; margin:0 auto; max-width:100%; height:auto; }
.backend-description h2{ text-align:center; color:hsl(var(--accent)); }
.map-container{ margin-top:20px; overflow:hidden; border-radius:12px; }

/* ============== 14) CODE BOX (fade-in clean) ============== */
.code-snippet-box{
  width: 100%;
  position: relative;
  background: linear-gradient(135deg, hsl(220 92% 6%), hsl(285 90% 10%));
  color: hsl(160 100% 75%); /* neon zielono-niebieski */
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  border-radius: 14px;
  border: 1px solid hsl(var(--border));
  overflow-x: auto;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size: .95rem;
  line-height: 1.5;
  box-shadow: inset 0 1px 0 hsl(var(--border)/.6),
              0 10px 24px hsl(var(--shadow-1));

  opacity: 0;
  transform: translateY(8px);
  animation: codeFadeIn .8s ease forwards;
}

/* Tryb jasny */
body:not(.dark) .code-snippet-box{
  background: linear-gradient(135deg, #fdfdfd, #f2f2f2);
  color: #2a2a2a;
  border-color: #d0d0d0;
  box-shadow: inset 0 1px 0 rgba(0,0,0,.05),
              0 10px 24px rgba(0,0,0,.08);
}

/* Animacja wejścia */
@keyframes codeFadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}


/* ============== 15) TOGGLE (bardziej widoczny w LIGHT) ============== */
.switch{ position:relative; display:inline-block; width:48px; height:28px; }
.switch input{ opacity:0; width:0; height:0; }
.slider{
  position:absolute; inset:0; cursor:pointer; border-radius:999px;
  background: linear-gradient(180deg, #e9eefb, #ccd6f6);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,.6);
  transition:.35s;
}
.slider::before{
  content:""; position:absolute; width:22px; height:22px; left:3px; top:3px; border-radius:50%;
  background: #fff; transition:.35s;
  box-shadow: 0 4px 10px rgba(0,0,0,.15);
}
input:checked + .slider{
  background: linear-gradient(180deg, hsl(var(--accent-300)), hsl(var(--accent)));
  box-shadow: inset 0 2px 6px rgba(0,0,0,.18), 0 1px 0 rgba(255,255,255,.35);
}
input:checked + .slider::before{ transform: translateX(20px); }
body.dark .slider{ background: linear-gradient(180deg, #2b2f3b, #20232d); box-shadow: inset 0 2px 6px rgba(0,0,0,.35); }

/* ============== 16) GITHUB FLOAT BTN (lewa strona, neon blue↔violet) ============== */
.github-floating-button{
  position: fixed;
  left: 20px;               /* 👈 zamiast right */
  bottom: 20px;
  z-index: 10000;

  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 18px;
  border-radius: 999px;

  font-weight: 800;
  color: #fff;

  background: linear-gradient(145deg,
    hsl(220 92% 60%),   /* niebieski */
    hsl(285 90% 62%)    /* fiolet */
  );
  box-shadow:
    0 12px 30px hsl(220 92% 60% / .35),
    0 12px 30px hsl(285 90% 62% / .35);

  transition: transform .25s, box-shadow .25s, background .25s;
  animation: floatButton 6s ease-in-out infinite;
}

.github-floating-button img{
  width: 22px;
  height: 22px;
  filter: invert(1);
}

.github-floating-button:hover{
  transform: scale(1.05);
  background: linear-gradient(145deg,
    hsl(285 90% 70%),
    hsl(220 92% 68%)
  );
  box-shadow:
    0 16px 42px hsl(220 92% 60% / .5),
    0 16px 42px hsl(285 90% 62% / .5);
}

@keyframes floatButton{
  0%,100%{ transform: translateY(0); }
  50%   { transform: translateY(-6px); }
}

/* ============== 17) ABOUT / TABS / IMG ============== */
.tabs-bar{ list-style:none; display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); border-bottom:2px solid hsl(var(--accent)); background:transparent; }
.tab-cell{ text-align:center; font-weight:800; padding:14px 10px; cursor:pointer; user-select:none; transition: background .2s, color .2s; color:hsl(var(--fg)); }
.tab-cell:hover{ background:hsl(var(--accent)/.08); }
.tab-cell.active{ color:hsl(var(--accent)); background:hsl(var(--accent)/.10); }
.tab-cell.active::after{ content:""; display:block; height:3px; background:hsl(var(--accent)); margin-top:8px; }
.tab-panels{ padding:0; margin-top:20px; }
.tab-panel{ display:none; animation:fadeIn .3s ease; }
.tab-panel.active{ display:block; }
@keyframes fadeIn{ from{opacity:0; transform: translateY(10px)} to{opacity:1; transform: translateY(0)} }

.about-flow{ overflow:hidden; }
.about-photo{ float:left; max-width:300px; width:100%; height:auto; border-radius:12px; object-fit:cover; margin:0 20px 20px 0; box-shadow:0 10px 24px hsl(var(--shadow-1)); }
@media (max-width:768px){ .about-photo{ float:none; display:block; margin:0 auto 16px; max-width:420px; } }
.insta-logo{ display:block; max-width:300px; width:100%; height:auto; margin:0 auto 20px; filter:none; }
body.dark .insta-logo{ filter: drop-shadow(0 0 10px #fff); }
[data-i18n="about_story"] p{ text-indent:2em; margin:0 0 1em 0; }

/* ============== 18) FOOTER (GitHub biały w dark) ============== */
.site-footer{ background:hsl(var(--nav-bg)); color:hsl(var(--text-color)); padding:12px 0; border-top:1px solid #ccc; text-align:center; font-size:.85rem; margin-top:40px; }
.footer-container{ display:flex; flex-direction:column; align-items:center; gap:8px; }
.site-footer .github-link img,
.site-footer .github-link svg{ width:20px; height:20px; fill:currentColor; }
body.dark .site-footer .github-link img,
body.dark .site-footer .github-link svg{ filter: invert(1) brightness(1.2) contrast(1.1); }

/* ============== 19) ZGODNOŚĆ: app-logo BEZ ZMIAN ============== */
/* (zostawiamy dokładnie jak wcześniej) */
.app-logo{
  width:220px; max-width:90%; margin:0 auto; display:block;
  animation: floatLogo 5s ease-in-out infinite;
}
@keyframes floatLogo{ 0%,100%{ transform:translateY(0) } 50%{ transform:translateY(-6px) } }
/* Jeśli chcesz bez animacji w konkretnym projekcie, nadpisz: .app-logo{ animation:none } */

/* ============== 20) RESPONSYWNOŚĆ ============== */
@media (max-width:768px){
  main{ width:94vw; padding:20px 0 48px; }
  h1,h2,h3{ font-size:clamp(1.2rem,4vw,1.6rem); }
  p,li{ font-size:.98rem; }
}

/* ============== 21) DROBIAZGI ============== */
.section-gap{ margin-top:32px; }
.scroll-progress{ position:absolute; bottom:0; left:0; height:3px; width:0%; background:hsl(var(--accent)); transition:width .1s linear; }
.menu-items a, .dropdown-content a{ text-underline-offset:3px; text-decoration-thickness:.08em; }

/* Ikony w dropdown (zachowanie bieli w dark) */
.dropdown-content a{ display:flex; align-items:center; gap:10px; }
.project-icon{ width:20px; height:20px; object-fit:contain; transition:transform .3s; }
body.dark .project-icon{ filter: invert(1) brightness(1.2) contrast(1.1); }
.dropdown-content a:hover .project-icon{ transform:scale(1.15); }

/* ================================
   MOBILE HAMBURGER — bez zmian w HTML
   ================================ */
@media (max-width: 768px){

  /* Panel menu — kosmetyka + płynne wejście (gdy system go pokazuje) */
  .menu-items{
    background: var(--nav-bg) !important;
    background: hsl(var(--surface)) !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;

    border-bottom: 1px solid rgba(0,0,0,.08);
    box-shadow: 0 18px 40px rgba(0,0,0,.18);
    padding: max(12px, env(safe-area-inset-top)) 20px 12px max(20px, env(safe-area-inset-left));
    gap: 8px;
    z-index: 10001;

    /* Nie wymuszamy display:block – Twój system może dawać display:none.
       Jeśli jest widoczny, animacje zadziałają. */
    opacity: 1;
    transform: translateY(0);
    transition: opacity .22s cubic-bezier(.2,.8,.2,1), transform .22s cubic-bezier(.2,.8,.2,1);
    will-change: opacity, transform;

    max-height: 80vh;
    overflow: auto;
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
  }
  body.dark .menu-items{
    border-bottom-color: rgba(255,255,255,.12);
    box-shadow: 0 22px 44px rgba(0,0,0,.55);
  }

  /* Gdy Twój system dodaje jedną z tych flag – pokaż wejście „z góry” */
  .menu-items.open,
  .is-open .menu-items,
  .menu-items[data-state="open"]{
    opacity: 1;
    transform: translateY(0);
  }

  /* Linki/przyciski */
  .menu-items a,
  .menu-items .dropbtn,
  .navbar-right a,
  .navbar-right button{
    color: var(--nav-text);
    color: hsl(var(--fg)); /* v2 */
    width: 100%;
    padding: clamp(10px, 2.6vh, 14px) 18px;
    border-radius: 12px;
    line-height: 1.15;
    text-align: left;
    outline: none;
    min-height: 44px; /* hit-area */
  }
  .menu-items a::after{ display:none; }
  .menu-items a:hover,
  .menu-items .dropbtn:hover{ background: rgba(0,0,0,.06); }
  body.dark .menu-items a:hover,
  body.dark .menu-items .dropbtn:hover{ background: rgba(255,255,255,.06); }
  .menu-items a:focus-visible,
  .menu-items .dropbtn:focus-visible{
    outline: 2px solid hsl(var(--fg)/.28);
    outline-offset: 2px;
    background: transparent;
  }

  /* Dropdown — bez display:none, sterujemy max-height/opacity/pointer-events */
  .dropdown{ width: 100%; }
  .dropdown .dropbtn{
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
  }
  .dropdown .dropbtn .caret{ transition: transform .22s cubic-bezier(.2,.8,.2,1); }

  .dropdown-content{
    position: static !important;
    display: block;         /* stale block, ukrycie przez max-height/opacity */
    pointer-events: none;   /* nieklikalne, gdy zamknięte */
    background: var(--nav-bg) !important;
    background: hsl(var(--surface)) !important;
    border: 1px solid rgba(0,0,0,.08);
    border-radius: 10px;
    padding: 6px 8px;
    margin: 6px 0 0 0;
    box-shadow: 0 10px 24px rgba(0,0,0,.16);

    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-4px);
    transition:
      max-height .22s cubic-bezier(.2,.8,.2,1),
      opacity .22s cubic-bezier(.2,.8,.2,1),
      transform .22s cubic-bezier(.2,.8,.2,1);
  }
  body.dark .dropdown-content{
    border-color: rgba(255,255,255,.12);
    box-shadow: 0 12px 30px rgba(0,0,0,.6);
  }

  /* —„Stan otwarty”— dopasowania pod różne systemy:
     1) rodzic .dropdown ma .open
     2) przycisk ma aria-expanded="true"
     3) rodzic ma data-open="true" / [open] (np. <details open>) */
  .dropdown.open .dropdown-content,
  .dropdown:has(.dropbtn[aria-expanded="true"]) .dropdown-content,
  .dropdown[data-open="true"] .dropdown-content,
  .dropdown[open] .dropdown-content{
    pointer-events: auto;
    max-height: 60vh;
    opacity: 1;
    transform: translateY(0);
  }

  /* Rotacja caret w każdym z wariantów „otwarte” */
  .dropdown.open .dropbtn .caret,
  .dropdown:has(.dropbtn[aria-expanded="true"]) .dropbtn .caret,
  .dropdown[data-open="true"] .dropbtn .caret,
  .dropdown[open] .dropbtn .caret{
    transform: rotate(180deg);
  }

  /* Elementy wewnątrz dropdownu */
  .dropdown-content a,
  .dropdown-content button{
    padding: 10px 10px;
    border-radius: 8px;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    .menu-items, .dropdown .dropbtn .caret, .dropdown-content{ transition:none !important; }
  }
}



/* === DARK MODE: twardy biały tekst wszędzie (bez nagłówków) === */
body.dark { --text-color: #ffffff; }

body.dark :where(
  p, li, ul, ol, small, span:not([class*="icon"]),
  a:not(.btn), blockquote, figcaption, label, dd, dt
){
  color: #ffffff !important;
  opacity: 1 !important;            /* gasi ewentualne przygaszenia */
}

/* Sekcje krytyczne na index */
body.dark .intro,
body.dark .intro p,
body.dark .intro li,
body.dark .experience-section p,
body.dark .experience-section li,
body.dark .projects-section p,
body.dark .projects-section li,
body.dark .tile p,
body.dark .project-card-content p,
body.dark .project-tags,
body.dark .site-footer,
body.dark .site-footer p,
body.dark .dropdown-content a {
  color: #ffffff !important;
  opacity: 1 !important;
}

/* Markery list – też na biało */
body.dark .intro ul li::marker,
body.dark .experience-section ul li::marker,
body.dark ul li::marker {
  color: #ffffff !important;
}

/* Linki w treści – białe, z akcentowym hoverem */
body.dark main a:not(.btn),
body.dark .site-footer a {
  color: #ffffff !important;
}
body.dark main a:not(.btn):hover,
body.dark .site-footer a:hover {
  color: var(--accent-color) !important;
}

/* Pasek „Ostatnie aktualizacje” – biała czcionka w dark */
body.dark .changelog-bar,
body.dark .changelog-bar-inner,
body.dark .changelog-label,
body.dark .changelog-stage,
body.dark .vline,
body.dark .vline .marquee-track {
  color: #ffffff !important;
}


/* ==========================================
   SCROLL PROGRESS — BLUE↔PURPLE + FIX (PATCH)
   ========================================== */

/* (re)definicje – gdyby wcześniejszy patch nie był wklejony */
:root{
  --neo-blue: 220 92% 60%;
  --neo-violet: 285 90% 62%;
}

/* Gradient + glow z fallbackiem do Twojego --accent, większy priorytet  */
.scroll-progress{
  position: absolute !important;          /* jak w bazie */
  bottom: 0; left: 0;
  height: 3px !important;
  border-radius: 999px !important;
  background: linear-gradient(
    90deg,
    hsl(var(--neo-blue, 220 92% 60%)) 0%,
    hsl(var(--neo-violet, 285 90% 62%)) 100%
  ) !important;
  box-shadow:
    0 0 10px hsl(var(--neo-blue, var(--accent))/ .30),
    0 0 16px hsl(var(--neo-violet, var(--accent))/ .28) !important;
  opacity: .98 !important;
  transition: width .1s linear !important;
  pointer-events: none !important;
  z-index: 2 !important;                  /* NAD pseudo-elementem navbara */
}

/* Jeśli pasek siedzi w .navbar, ustaw warstwowanie ponad ::after */
.navbar::after{ z-index: 1 !important; }  /* tło liniowe pod spodem */
.navbar .scroll-progress{ z-index: 2 !important; }



/* ===========================================================
   MOBILE PATCH — RAMKI STATYCZNE (bez ruchu / animacji)
   =========================================================== */
@media (max-width: 768px){

  /* Tiles — gradientowa ramka zostaje, ale bez animacji */
  .tile-link::after{
    animation: none !important;
    background-size: auto !important; /* blokada przesuwu */
  }
  .tile-link{ transition: none !important; }
  .tile-link:hover{
    transform: none !important;
    box-shadow: none !important;
  }

  /* Project cards — statyczna ramka */
  .project-card::after{
    animation: none !important;
    background-size: auto !important;
  }
  .project-card{ transition: none !important; }
  .project-card:hover{
    transform: none !important;
    box-shadow: none !important;
  }

  /* Section separator — tylko statyczny pasek */
  .section-separator.animate::after{
    animation: none !important;
    background-size: auto !important;
    transform: none !important;
    opacity: 1 !important;
  }

  /* Scroll-trigger fades / zoom — natychmiastowe, bez animacji */
  .hidden-on-load,
  .fade-zoom,
  .show-on-scroll{
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
  }

  /* App logo — bez bujania */
  .app-logo{ animation: none !important; }

  /* Github floating button — bez „pływania” */
  .github-floating-button{
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }

  /* Code snippet box — bez fade-in */
  .code-snippet-box{
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }

  /* Tabs — bez fadeIn */
  .tab-panel{ animation: none !important; }
}
